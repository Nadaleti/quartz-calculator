var bt=Object.defineProperty;var gt=(t,e,n)=>e in t?bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var M=(t,e,n)=>(gt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function b(){}function ie(t,e){for(const n in e)t[n]=e[n];return t}function yt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function tt(t){return t()}function Ae(){return Object.create(null)}function V(t){t.forEach(tt)}function ae(t){return typeof t=="function"}function A(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function vt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null){for(const o of e)o(void 0);return b}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Q(t,e,n){t.$$.on_destroy.push(nt(e,n))}function W(t,e,n,o){if(t){const l=ot(t,e,n,o);return t[0](l)}}function ot(t,e,n,o){return t[1]&&o?ie(n.ctx.slice(),t[1](o(e))):n.ctx}function J(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],r=Math.max(e.dirty.length,l.length);for(let i=0;i<r;i+=1)s[i]=e.dirty[i]|l[i];return s}return e.dirty|l}return e.dirty}function X(t,e,n,o,l,s){if(l){const r=ot(e,n,o,s);t.p(r,l)}}function Z(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Le(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ce(t){return t??""}function y(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function lt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function S(){return N(" ")}function de(){return N("")}function te(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function ge(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function st(t){return t===""?null:+t}function kt(t){return Array.from(t.childNodes)}function ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function qe(t,e){t.value=e??""}function U(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function Te(t,e){return new t(e)}let ne;function I(t){ne=t}function oe(){if(!ne)throw new Error("Function called outside component initialization");return ne}function wt(t){oe().$$.on_mount.push(t)}function $t(t){oe().$$.on_destroy.push(t)}function pe(t,e){return oe().$$.context.set(t,e),e}function ve(t){return oe().$$.context.get(t)}const F=[],ke=[];let x=[];const we=[],Ct=Promise.resolve();let $e=!1;function St(){$e||($e=!0,Ct.then(Ne))}function Ce(t){x.push(t)}function Pt(t){we.push(t)}const _e=new Set;let Y=0;function Ne(){if(Y!==0)return;const t=ne;do{try{for(;Y<F.length;){const e=F[Y];Y++,I(e),Ot(e.$$)}}catch(e){throw F.length=0,Y=0,e}for(I(null),F.length=0,Y=0;ke.length;)ke.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];_e.has(n)||(_e.add(n),n())}x.length=0}while(F.length);for(;we.length;)we.pop()();$e=!1,_e.clear(),I(t)}function Ot(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}function Rt(t){const e=[],n=[];x.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),x=e}const ue=new Set;let H;function le(){H={r:0,c:[],p:H}}function se(){H.r||V(H.c),H=H.p}function g(t,e){t&&t.i&&(ue.delete(t),t.i(e))}function $(t,e,n,o){if(t&&t.o){if(ue.has(t))return;ue.add(t),H.c.push(()=>{ue.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Be(t,e){const n=e.token={};function o(l,s,r,i){if(e.token!==n)return;e.resolved=i;let u=e.ctx;r!==void 0&&(u=u.slice(),u[r]=i);const c=l&&(e.current=l)(u);let d=!1;e.block&&(e.blocks?e.blocks.forEach((f,a)=>{a!==s&&f&&(le(),$(f,1,1,()=>{e.blocks[a]===f&&(e.blocks[a]=null)}),se())}):e.block.d(1),c.c(),g(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[s]=c),d&&Ne()}if(yt(t)){const l=oe();if(t.then(s=>{I(l),o(e.then,1,e.value,s),I(null)},s=>{if(I(l),o(e.catch,2,e.error,s),I(null),!e.hasCatch)throw s}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function Et(t,e,n){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,n)}function fe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ie(t,e){const n={},o={},l={$$scope:1};let s=t.length;for(;s--;){const r=t[s],i=e[s];if(i){for(const u in r)u in i||(o[u]=1);for(const u in i)l[u]||(n[u]=i[u],l[u]=1);t[s]=i}else for(const u in r)l[u]=1}for(const r in o)r in n||(n[r]=void 0);return n}function re(t){return typeof t=="object"&&t!==null?t:{}}function Nt(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function E(t){t&&t.c()}function P(t,e,n){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),Ce(()=>{const s=t.$$.on_mount.map(tt).filter(ae);t.$$.on_destroy?t.$$.on_destroy.push(...s):V(s),t.$$.on_mount=[]}),l.forEach(Ce)}function O(t,e){const n=t.$$;n.fragment!==null&&(Rt(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(t,e){t.$$.dirty[0]===-1&&(F.push(t),St(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,o,l,s,r,i=[-1]){const u=ne;I(t);const c=t.$$={fragment:null,ctx:[],props:s,update:b,not_equal:l,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ae(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(f,a,...p)=>{const _=p.length?p[0]:a;return c.ctx&&l(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),d&&At(t,f)),a}):[],c.update(),d=!0,V(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const f=kt(e.target);c.fragment&&c.fragment.l(f),f.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&g(t.$$.fragment),P(t,e.target,e.anchor),Ne()}I(u)}class T{constructor(){M(this,"$$");M(this,"$$set")}$destroy(){O(this,1),this.$destroy=b}$on(e,n){if(!ae(n))return b;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Lt);const ze={},Se={},qt={},rt=/^:(.+)/,Me=4,Tt=3,Bt=2,It=1,zt=1,Pe=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),me=t=>t.replace(/(^\/+|\/+$)/g,""),Mt=(t,e)=>{const n=t.default?0:Pe(t.path).reduce((o,l)=>(o+=Me,l===""?o+=zt:rt.test(l)?o+=Bt:l[0]==="*"?o-=Me+It:o+=Tt,o),0);return{route:t,score:n,index:e}},Ut=t=>t.map(Mt).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Ue=(t,e)=>{let n,o;const[l]=e.split("?"),s=Pe(l),r=s[0]==="",i=Ut(t);for(let u=0,c=i.length;u<c;u++){const d=i[u].route;let f=!1;if(d.default){o={route:d,params:{},uri:e};continue}const a=Pe(d.path),p={},_=Math.max(s.length,a.length);let C=0;for(;C<_;C++){const R=a[C],z=s[C];if(R&&R[0]==="*"){const ee=R==="*"?"*":R.slice(1);p[ee]=s.slice(C).map(decodeURIComponent).join("/");break}if(typeof z>"u"){f=!0;break}const j=rt.exec(R);if(j&&!r){const ee=decodeURIComponent(z);p[j[1]]=ee}else if(R!==z){f=!0;break}}if(!f){n={route:d,params:p,uri:"/"+s.slice(0,C).join("/")};break}}return n||o||null},je=(t,e)=>`${me(e==="/"?t:`${me(t)}/${me(e)}`)}/`,ut=()=>typeof window<"u"&&"document"in window&&"location"in window,jt=t=>({params:t&4}),De=t=>({params:t[2]});function He(t){let e,n,o,l;const s=[Ht,Dt],r=[];function i(u,c){return u[0]?0:1}return e=i(t),n=r[e]=s[e](t),{c(){n.c(),o=de()},m(u,c){r[e].m(u,c),w(u,o,c),l=!0},p(u,c){let d=e;e=i(u),e===d?r[e].p(u,c):(le(),$(r[d],1,1,()=>{r[d]=null}),se(),n=r[e],n?n.p(u,c):(n=r[e]=s[e](u),n.c()),g(n,1),n.m(o.parentNode,o))},i(u){l||(g(n),l=!0)},o(u){$(n),l=!1},d(u){u&&v(o),r[e].d(u)}}}function Dt(t){let e;const n=t[8].default,o=W(n,t,t[7],De);return{c(){o&&o.c()},m(l,s){o&&o.m(l,s),e=!0},p(l,s){o&&o.p&&(!e||s&132)&&X(o,n,l,l[7],e?J(n,l[7],s,jt):Z(l[7]),De)},i(l){e||(g(o,l),e=!0)},o(l){$(o,l),e=!1},d(l){o&&o.d(l)}}}function Ht(t){let e,n,o,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Gt,then:Yt,catch:Vt,value:12,blocks:[,,,]};return Be(n=t[0],l),{c(){e=de(),l.block.c()},m(s,r){w(s,e,r),l.block.m(s,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,o=!0},p(s,r){t=s,l.ctx=t,r&1&&n!==(n=t[0])&&Be(n,l)||Et(l,t,r)},i(s){o||(g(l.block),o=!0)},o(s){for(let r=0;r<3;r+=1){const i=l.blocks[r];$(i)}o=!1},d(s){s&&v(e),l.block.d(s),l.token=null,l=null}}}function Vt(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function Yt(t){var i;let e,n,o;const l=[t[2],t[3]];var s=((i=t[12])==null?void 0:i.default)||t[12];function r(u,c){let d={};if(c!==void 0&&c&12)d=Ie(l,[c&4&&re(u[2]),c&8&&re(u[3])]);else for(let f=0;f<l.length;f+=1)d=ie(d,l[f]);return{props:d}}return s&&(e=Te(s,r(t))),{c(){e&&E(e.$$.fragment),n=de()},m(u,c){e&&P(e,u,c),w(u,n,c),o=!0},p(u,c){var d;if(c&1&&s!==(s=((d=u[12])==null?void 0:d.default)||u[12])){if(e){le();const f=e;$(f.$$.fragment,1,0,()=>{O(f,1)}),se()}s?(e=Te(s,r(u,c)),E(e.$$.fragment),g(e.$$.fragment,1),P(e,n.parentNode,n)):e=null}else if(s){const f=c&12?Ie(l,[c&4&&re(u[2]),c&8&&re(u[3])]):{};e.$set(f)}},i(u){o||(e&&g(e.$$.fragment,u),o=!0)},o(u){e&&$(e.$$.fragment,u),o=!1},d(u){u&&v(n),e&&O(e,u)}}}function Gt(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function Ft(t){let e,n,o=t[1]&&t[1].route===t[5]&&He(t);return{c(){o&&o.c(),e=de()},m(l,s){o&&o.m(l,s),w(l,e,s),n=!0},p(l,[s]){l[1]&&l[1].route===l[5]?o?(o.p(l,s),s&2&&g(o,1)):(o=He(l),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(le(),$(o,1,1,()=>{o=null}),se())},i(l){n||(g(o),n=!0)},o(l){$(o),n=!1},d(l){l&&v(e),o&&o.d(l)}}}function Qt(t,e,n){let o,{$$slots:l={},$$scope:s}=e,{path:r=""}=e,{component:i=null}=e,u={},c={};const{registerRoute:d,unregisterRoute:f,activeRoute:a}=ve(Se);Q(t,a,_=>n(1,o=_));const p={path:r,default:r===""};return d(p),$t(()=>{f(p)}),t.$$set=_=>{n(11,e=ie(ie({},e),Le(_))),"path"in _&&n(6,r=_.path),"component"in _&&n(0,i=_.component),"$$scope"in _&&n(7,s=_.$$scope)},t.$$.update=()=>{if(o&&o.route===p){n(2,u=o.params);const{component:_,path:C,...R}=e;n(3,c=R),_&&(_.toString().startsWith("class ")?n(0,i=_):n(0,i=_())),ut()&&(window==null||window.scrollTo(0,0))}},e=Le(e),[i,o,u,c,a,p,r,s,l]}class he extends T{constructor(e){super(),q(this,e,Qt,Ft,A,{path:6,component:0})}}const G=[];function Kt(t,e){return{subscribe:K(t,e).subscribe}}function K(t,e=b){let n;const o=new Set;function l(i){if(A(t,i)&&(t=i,n)){const u=!G.length;for(const c of o)c[1](),G.push(c,t);if(u){for(let c=0;c<G.length;c+=2)G[c][0](G[c+1]);G.length=0}}}function s(i){l(i(t))}function r(i,u=b){const c=[i,u];return o.add(c),o.size===1&&(n=e(l,s)||b),i(t),()=>{o.delete(c),o.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:r}}function Wt(t,e,n){const o=!Array.isArray(t),l=o?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Kt(n,(r,i)=>{let u=!1;const c=[];let d=0,f=b;const a=()=>{if(d)return;f();const _=e(o?c[0]:c,r,i);s?r(_):f=ae(_)?_:b},p=l.map((_,C)=>nt(_,R=>{c[C]=R,d&=~(1<<C),u&&a()},()=>{d|=1<<C}));return u=!0,a(),function(){V(p),f(),u=!1}})}const be=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Jt=t=>{const e=[];let n=be(t);return{get location(){return n},listen(o){e.push(o);const l=()=>{n=be(t),o({location:n,action:"POP"})};return t.addEventListener("popstate",l),()=>{t.removeEventListener("popstate",l);const s=e.indexOf(o);e.splice(s,1)}},navigate(o,{state:l,replace:s=!1}={}){l={...l,key:Date.now()+""};try{s?t.history.replaceState(l,"",o):t.history.pushState(l,"",o)}catch{t.location[s?"replace":"assign"](o)}n=be(t),e.forEach(r=>r({location:n,action:"PUSH"})),document.activeElement.blur()}}},Xt=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(l,s){},removeEventListener(l,s){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(l,s,r){const[i,u=""]=r.split("?");e++,n.push({pathname:i,search:u}),o.push(l)},replaceState(l,s,r){const[i,u=""]=r.split("?");n[e]={pathname:i,search:u},o[e]=l}}}},it=Jt(ut()?window:Xt()),{navigate:Oe}=it,Zt=t=>({route:t&2,location:t&1}),Ve=t=>({route:t[1]&&t[1].uri,location:t[0]});function xt(t){let e;const n=t[12].default,o=W(n,t,t[11],Ve);return{c(){o&&o.c()},m(l,s){o&&o.m(l,s),e=!0},p(l,[s]){o&&o.p&&(!e||s&2051)&&X(o,n,l,l[11],e?J(n,l[11],s,Zt):Z(l[11]),Ve)},i(l){e||(g(o,l),e=!0)},o(l){$(o,l),e=!1},d(l){o&&o.d(l)}}}function en(t,e,n){let o,l,s,r,{$$slots:i={},$$scope:u}=e,{basepath:c="/"}=e,{url:d=null}=e,{history:f=it}=e;pe(qt,f);const a=ve(ze),p=ve(Se),_=K([]);Q(t,_,h=>n(9,l=h));const C=K(null);Q(t,C,h=>n(1,r=h));let R=!1;const z=a||K(d?{pathname:d}:f.location);Q(t,z,h=>n(0,o=h));const j=p?p.routerBase:K({path:c,uri:c});Q(t,j,h=>n(10,s=h));const ee=Wt([j,C],([h,L])=>{if(!L)return h;const{path:B}=h,{route:D,uri:ht}=L;return{path:D.default?B:D.path.replace(/\*.*$/,""),uri:ht}}),_t=h=>{const{path:L}=s;let{path:B}=h;if(h._path=B,h.path=je(L,B),typeof window>"u"){if(R)return;const D=Ue([h],o.pathname);D&&(C.set(D),R=!0)}else _.update(D=>[...D,h])},mt=h=>{_.update(L=>L.filter(B=>B!==h))};return a||(wt(()=>f.listen(L=>{z.set(L.location)})),pe(ze,z)),pe(Se,{activeRoute:C,base:j,routerBase:ee,registerRoute:_t,unregisterRoute:mt}),t.$$set=h=>{"basepath"in h&&n(6,c=h.basepath),"url"in h&&n(7,d=h.url),"history"in h&&n(8,f=h.history),"$$scope"in h&&n(11,u=h.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:h}=s;_.update(L=>L.map(B=>Object.assign(B,{path:je(h,B._path)})))}if(t.$$.dirty&513){const h=Ue(l,o.pathname);C.set(h)}},[o,r,_,C,z,j,c,d,f,l,s,u,i]}class tn extends T{constructor(e){super(),q(this,e,en,xt,A,{basepath:6,url:7,history:8})}}const ct=[{type:"quartzo",props:{max:15,value:1,color:"#8bc5d1"}},{type:"rubelita",props:{max:12,value:2,color:"#e82f83"}},{type:"esmeralda",props:{max:10,value:3,color:"#009645"}},{type:"safira",props:{max:7,value:4,color:"#009de0"}},{type:"rubi",props:{max:4,value:6,color:"#e52025"}},{type:"ambar",props:{max:2,value:8,color:"#f59b00"}}];class Re{constructor(e,n,o){M(this,"bonus");M(this,"points");M(this,"eligible");M(this,"crystals");M(this,"sumPoints",()=>{let e=0;return this.eligible&&this.bonus==="plus-8"?e+=8:this.eligible&&this.bonus==="plus-12"&&(e+=12),this.crystals.reduce((n,o)=>{let l=o.quantity*o.props.value;return o.doubled&&(l*=2),n+l},e)});this.bonus=e,this.eligible=n,this.crystals=o,this.points=this.sumPoints()}}const ft=t=>t.sort((e,n)=>{const o=e.quantity*e.props.value;return n.quantity*n.props.value-o}),at=t=>t.map(e=>({...e,doubled:!1,matchBonusCondition:!1})),Ye=(t,e)=>{if(t!=="double"&&t!=="2xdouble")throw new Error("Cannot calculate not 'double' bonuses");const n=ft(e),o=at(n);let l=3;t==="2xdouble"&&(l=4);const s=o.findLast(u=>u.quantity>=l);let r=1;if(t==="2xdouble"&&(r=2),!s||o[r].quantity===0)return new Re(t,!1,o);s.matchBonusCondition=!0;const i=o.filter(u=>u.quantity>0&&!u.matchBonusCondition);return i[0].doubled=!0,t==="2xdouble"&&(i[1].doubled=!0),new Re(t,!0,o)},Ge=(t,e)=>{if(t!=="plus-8"&&t!=="plus-12")throw new Error("Cannot calculate not 'plus' bonuses");const n=ft(e),o=at(n);let l=4;return t==="plus-12"&&(l=5),new Re(t,o[l].quantity>0,o)},nn=t=>[Ye("double",t),Ye("2xdouble",t),Ge("plus-8",t),Ge("plus-12",t)].sort((e,n)=>n.points-e.points),on={calculate:nn},Ee=K([]);function ln(t){let e,n,o,l,s;const r=t[8].default,i=W(r,t,t[7],null);return{c(){e=k("button"),i&&i.c(),U(e,"--main-color",t[5]),m(e,"class",n=ce(t[4])+" svelte-1iyerxi"),m(e,"type",t[2]),m(e,"form",t[3]),m(e,"id",t[0])},m(u,c){w(u,e,c),i&&i.m(e,null),o=!0,l||(s=te(e,"click",function(){ae(t[1])&&t[1].apply(this,arguments)}),l=!0)},p(u,[c]){t=u,i&&i.p&&(!o||c&128)&&X(i,r,t,t[7],o?J(r,t[7],c,null):Z(t[7]),null),(!o||c&32)&&U(e,"--main-color",t[5]),(!o||c&16&&n!==(n=ce(t[4])+" svelte-1iyerxi"))&&m(e,"class",n),(!o||c&4)&&m(e,"type",t[2]),(!o||c&8)&&m(e,"form",t[3]),(!o||c&1)&&m(e,"id",t[0])},i(u){o||(g(i,u),o=!0)},o(u){$(i,u),o=!1},d(u){u&&v(e),i&&i.d(u),l=!1,s()}}}function sn(t,e,n){let o,{$$slots:l={},$$scope:s}=e,{id:r=Math.random().toString(36).slice(2)}=e,{onClick:i=()=>{console.log("button "+r+" was clicked")}}=e,{type:u="button"}=e,{form:c=void 0}=e,{style:d="solid"}=e,{crystal:f}=e;return t.$$set=a=>{"id"in a&&n(0,r=a.id),"onClick"in a&&n(1,i=a.onClick),"type"in a&&n(2,u=a.type),"form"in a&&n(3,c=a.form),"style"in a&&n(4,d=a.style),"crystal"in a&&n(6,f=a.crystal),"$$scope"in a&&n(7,s=a.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(5,o=ct.find(a=>a.type===f).props.color)},[r,i,u,c,d,o,f,s,l]}class dt extends T{constructor(e){super(),q(this,e,sn,ln,A,{id:0,onClick:1,type:2,form:3,style:4,crystal:6})}}function rn(t){let e;return{c(){e=k("div"),m(e,"class","gem svelte-1vzag4b"),U(e,"background-color",t[1]),U(e,"--size-px",t[0]+"px"),U(e,"--size-effect",t[0]-20+"px")},m(n,o){w(n,e,o)},p(n,[o]){o&2&&U(e,"background-color",n[1]),o&1&&U(e,"--size-px",n[0]+"px"),o&1&&U(e,"--size-effect",n[0]-20+"px")},i:b,o:b,d(n){n&&v(e)}}}function un(t,e,n){let{colorHex:o}=e,{sizePx:l=50}=e;return l<=20&&(l=21),t.$$set=s=>{"colorHex"in s&&n(1,o=s.colorHex),"sizePx"in s&&n(0,l=s.sizePx)},[l,o]}class cn extends T{constructor(e){super(),q(this,e,un,rn,A,{colorHex:1,sizePx:0})}}function Fe(t){let e,n;return{c(){e=k("label"),n=N(t[5]),m(e,"for",t[1]),m(e,"class","svelte-1l9pwp0")},m(o,l){w(o,e,l),y(e,n)},p(o,l){l&32&&ye(n,o[5]),l&2&&m(e,"for",o[1])},d(o){o&&v(e)}}}function fn(t){let e,n,o,l,s,r,i,u,c,d,f=t[5]&&Fe(t);return{c(){e=k("div"),f&&f.c(),n=S(),o=k("div"),l=k("button"),l.textContent="-",s=S(),r=k("input"),i=S(),u=k("button"),u.textContent="+",m(l,"class","min-btn svelte-1l9pwp0"),m(l,"type","button"),m(r,"type","number"),m(r,"id",t[1]),m(r,"name",t[2]),m(r,"min",t[3]),m(r,"max",t[4]),m(r,"placeholder",t[6]),m(r,"class","svelte-1l9pwp0"),m(u,"class","max-btn svelte-1l9pwp0"),m(u,"type","button"),m(o,"class","input svelte-1l9pwp0"),m(e,"class","input-group svelte-1l9pwp0")},m(a,p){w(a,e,p),f&&f.m(e,null),y(e,n),y(e,o),y(o,l),y(o,s),y(o,r),qe(r,t[0]),y(o,i),y(o,u),c||(d=[te(l,"click",ge(t[8])),te(r,"input",t[9]),te(u,"click",ge(t[10]))],c=!0)},p(a,[p]){a[5]?f?f.p(a,p):(f=Fe(a),f.c(),f.m(e,n)):f&&(f.d(1),f=null),p&2&&m(r,"id",a[1]),p&4&&m(r,"name",a[2]),p&8&&m(r,"min",a[3]),p&16&&m(r,"max",a[4]),p&64&&m(r,"placeholder",a[6]),p&1&&st(r.value)!==a[0]&&qe(r,a[0])},i:b,o:b,d(a){a&&v(e),f&&f.d(),c=!1,V(d)}}}function an(t,e,n){let{id:o}=e,{name:l}=e,{min:s}=e,{max:r}=e,{value:i}=e,{label:u=void 0}=e,{placeholder:c=""}=e;const d=_=>{const C=i+_;C<s||C>r||n(0,i=C)},f=()=>d(-1);function a(){i=st(this.value),n(0,i)}const p=()=>d(1);return t.$$set=_=>{"id"in _&&n(1,o=_.id),"name"in _&&n(2,l=_.name),"min"in _&&n(3,s=_.min),"max"in _&&n(4,r=_.max),"value"in _&&n(0,i=_.value),"label"in _&&n(5,u=_.label),"placeholder"in _&&n(6,c=_.placeholder)},[i,o,l,s,r,u,c,d,f,a,p]}class dn extends T{constructor(e){super(),q(this,e,an,fn,A,{id:1,name:2,min:3,max:4,value:0,label:5,placeholder:6})}}const pn=t=>({}),Qe=t=>({}),_n=t=>({}),Ke=t=>({}),mn=t=>({}),We=t=>({});function hn(t){let e,n,o,l,s;const r=t[1].header,i=W(r,t,t[0],We),u=t[1].body,c=W(u,t,t[0],Ke),d=t[1].footer,f=W(d,t,t[0],Qe);return{c(){e=k("div"),i&&i.c(),n=S(),o=k("div"),c&&c.c(),l=S(),f&&f.c(),m(o,"class","scrollable-body svelte-18wi8i9"),m(e,"class","page-container svelte-18wi8i9")},m(a,p){w(a,e,p),i&&i.m(e,null),y(e,n),y(e,o),c&&c.m(o,null),y(e,l),f&&f.m(e,null),s=!0},p(a,[p]){i&&i.p&&(!s||p&1)&&X(i,r,a,a[0],s?J(r,a[0],p,mn):Z(a[0]),We),c&&c.p&&(!s||p&1)&&X(c,u,a,a[0],s?J(u,a[0],p,_n):Z(a[0]),Ke),f&&f.p&&(!s||p&1)&&X(f,d,a,a[0],s?J(d,a[0],p,pn):Z(a[0]),Qe)},i(a){s||(g(i,a),g(c,a),g(f,a),s=!0)},o(a){$(i,a),$(c,a),$(f,a),s=!1},d(a){a&&v(e),i&&i.d(a),c&&c.d(a),f&&f.d(a)}}}function bn(t,e,n){let{$$slots:o={},$$scope:l}=e;return t.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,o]}class pt extends T{constructor(e){super(),q(this,e,bn,hn,A,{})}}function Je(t,e,n){const o=t.slice();return o[3]=e[n],o[4]=e,o[5]=n,o}function gn(t){let e;return{c(){e=k("h1"),e.textContent="VENDA",m(e,"slot","header")},m(n,o){w(n,e,o)},p:b,d(n){n&&v(e)}}}function Xe(t){let e,n,o,l,s,r,i,u;o=new cn({props:{colorHex:t[3].props.color,sizePx:40}});function c(f){t[2](f,t[3])}let d={id:t[3].type,name:t[3].type,label:t[3].type.charAt(0).toUpperCase()+t[3].type.substring(1),min:0,max:t[3].props.max};return t[3].quantity!==void 0&&(d.value=t[3].quantity),s=new dn({props:d}),ke.push(()=>Nt(s,"value",c)),{c(){e=k("div"),n=k("div"),E(o.$$.fragment),l=S(),E(s.$$.fragment),i=S(),m(n,"class","gem-wrapper svelte-fwy877"),m(e,"class","crystal-input svelte-fwy877")},m(f,a){w(f,e,a),y(e,n),P(o,n,null),y(e,l),P(s,e,null),y(e,i),u=!0},p(f,a){t=f;const p={};a&1&&(p.colorHex=t[3].props.color),o.$set(p);const _={};a&1&&(_.id=t[3].type),a&1&&(_.name=t[3].type),a&1&&(_.label=t[3].type.charAt(0).toUpperCase()+t[3].type.substring(1)),a&1&&(_.max=t[3].props.max),!r&&a&1&&(r=!0,_.value=t[3].quantity,Pt(()=>r=!1)),s.$set(_)},i(f){u||(g(o.$$.fragment,f),g(s.$$.fragment,f),u=!0)},o(f){$(o.$$.fragment,f),$(s.$$.fragment,f),u=!1},d(f){f&&v(e),O(o),O(s)}}}function yn(t){let e,n,o,l,s=fe(t[0]),r=[];for(let u=0;u<s.length;u+=1)r[u]=Xe(Je(t,s,u));const i=u=>$(r[u],1,1,()=>{r[u]=null});return{c(){e=k("form");for(let u=0;u<r.length;u+=1)r[u].c();m(e,"id","calc-form"),m(e,"slot","body"),m(e,"class","svelte-fwy877")},m(u,c){w(u,e,c);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);n=!0,o||(l=te(e,"submit",ge(t[1])),o=!0)},p(u,c){if(c&1){s=fe(u[0]);let d;for(d=0;d<s.length;d+=1){const f=Je(u,s,d);r[d]?(r[d].p(f,c),g(r[d],1)):(r[d]=Xe(f),r[d].c(),g(r[d],1),r[d].m(e,null))}for(le(),d=s.length;d<r.length;d+=1)i(d);se()}},i(u){if(!n){for(let c=0;c<s.length;c+=1)g(r[c]);n=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)$(r[c]);n=!1},d(u){u&&v(e),lt(r,u),o=!1,l()}}}function vn(t){let e;return{c(){e=N("CALCULAR")},m(n,o){w(n,e,o)},d(n){n&&v(e)}}}function kn(t){let e,n,o;return n=new dt({props:{id:"submit-calc-btn",crystal:"safira",type:"submit",form:"calc-form",$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){e=k("div"),E(n.$$.fragment),m(e,"slot","footer"),m(e,"class","submit-wrapper svelte-fwy877")},m(l,s){w(l,e,s),P(n,e,null),o=!0},p(l,s){const r={};s&64&&(r.$$scope={dirty:s,ctx:l}),n.$set(r)},i(l){o||(g(n.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),o=!1},d(l){l&&v(e),O(n)}}}function wn(t){let e,n,o;return n=new pt({props:{$$slots:{footer:[kn],body:[yn],header:[gn]},$$scope:{ctx:t}}}),{c(){e=S(),E(n.$$.fragment),document.title="Quartz - Venda"},m(l,s){w(l,e,s),P(n,l,s),o=!0},p(l,[s]){const r={};s&65&&(r.$$scope={dirty:s,ctx:l}),n.$set(r)},i(l){o||(g(n.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),o=!1},d(l){l&&v(e),O(n,l)}}}function $n(t,e,n){const o=ct.map(r=>({...r,quantity:0})),l=()=>{if(o.every(i=>i.quantity==0))return;const r=on.calculate([...o]);Ee.set(r),Oe("/resultado")};function s(r,i){t.$$.not_equal(i.quantity,r)&&(i.quantity=r,n(0,o))}return[o,l,s]}class Ze extends T{constructor(e){super(),q(this,e,$n,wn,A,{})}}function Cn(t){let e,n,o,l,s,r,i;return{c(){e=k("div"),n=k("div"),o=N(t[1]),l=S(),s=k("div"),r=N(t[2]),m(n,"class","circle svelte-1rpu846"),m(s,"class","ribbon svelte-1rpu846"),m(e,"class",i=ce(`badge ${t[0]}`)+" svelte-1rpu846")},m(u,c){w(u,e,c),y(e,n),y(n,o),y(e,l),y(e,s),y(s,r)},p(u,[c]){c&2&&ye(o,u[1]),c&4&&ye(r,u[2]),c&1&&i!==(i=ce(`badge ${u[0]}`)+" svelte-1rpu846")&&m(e,"class",i)},i:b,o:b,d(u){u&&v(e)}}}function Sn(t,e,n){let{bonus:o}=e,l,s,r;switch(o){case"double":l="blue",s="2x",r="DUPLO";break;case"2xdouble":l="blue-dark",s="2x 2x",r="DUPLO DUPLO";break;case"plus-8":l="purple",s="+8",r="8 PONTOS";break;case"plus-12":l="green-dark",s="+12",r="12 PONTOS";break;default:l="silver",s="-",r="NENHUM"}return t.$$set=i=>{"bonus"in i&&n(3,o=i.bonus)},[l,s,r,o]}class Pn extends T{constructor(e){super(),q(this,e,Sn,Cn,A,{bonus:3})}}function xe(t,e,n){const o=t.slice();o[4]=e[n].quantity,o[5]=e[n].props,o[6]=e[n].doubled;const l=o[4]*o[5].value;return o[7]=l,o}function On(t){let e;return{c(){e=k("h1"),e.textContent="RESULTADO",m(e,"slot","header")},m(n,o){w(n,e,o)},p:b,d(n){n&&v(e)}}}function Rn(t){let e,n,o,l,s,r,i,u;n=new Pn({props:{bonus:t[1]}});let c=fe(t[0].crystals),d=[];for(let f=0;f<c.length;f+=1)d[f]=et(xe(t,c,f));return{c(){e=k("section"),E(n.$$.fragment),o=S(),l=k("div"),s=k("h1"),s.textContent=`$${t[0].points}`,r=S(),i=k("section");for(let f=0;f<d.length;f+=1)d[f].c();m(l,"class","value svelte-kpro7n"),m(e,"class","bonus svelte-kpro7n"),m(i,"class","calculation svelte-kpro7n")},m(f,a){w(f,e,a),P(n,e,null),y(e,o),y(e,l),y(l,s),w(f,r,a),w(f,i,a);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(i,null);u=!0},p(f,a){if(a&1){c=fe(f[0].crystals);let p;for(p=0;p<c.length;p+=1){const _=xe(f,c,p);d[p]?d[p].p(_,a):(d[p]=et(_),d[p].c(),d[p].m(i,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=c.length}},i(f){u||(g(n.$$.fragment,f),u=!0)},o(f){$(n.$$.fragment,f),u=!1},d(f){f&&(v(e),v(r),v(i)),O(n),lt(d,f)}}}function En(t){let e;return{c(){e=k("span"),e.textContent=`x 2 = $${t[7]*2}`},m(n,o){w(n,e,o)},p:b,d(n){n&&v(e)}}}function et(t){let e,n,o=t[4]+"",l,s,r=t[5].value+"",i,u,c=t[7]+"",d,f,a,p=t[6]&&En(t);return{c(){e=k("div"),n=k("p"),l=N(o),s=N(" x $"),i=N(r),u=N(" = $"),d=N(c),f=S(),p&&p.c(),a=S(),m(n,"style",`color: ${t[5].color}`),m(e,"class","row svelte-kpro7n")},m(_,C){w(_,e,C),y(e,n),y(n,l),y(n,s),y(n,i),y(n,u),y(n,d),y(n,f),p&&p.m(n,null),y(e,a)},p(_,C){_[6]&&p.p(_,C)},d(_){_&&v(e),p&&p.d()}}}function Nn(t){let e,n,o=t[0]&&Rn(t);return{c(){e=k("div"),o&&o.c(),m(e,"class","result-container svelte-kpro7n"),m(e,"slot","body")},m(l,s){w(l,e,s),o&&o.m(e,null),n=!0},p(l,s){l[0]&&o.p(l,s)},i(l){n||(g(o),n=!0)},o(l){$(o),n=!1},d(l){l&&v(e),o&&o.d()}}}function An(t){let e;return{c(){e=N("VOLTAR")},m(n,o){w(n,e,o)},d(n){n&&v(e)}}}function Ln(t){let e,n,o;return n=new dt({props:{crystal:"ambar",type:"button",onClick:t[2],$$slots:{default:[An]},$$scope:{ctx:t}}}),{c(){e=k("div"),E(n.$$.fragment),m(e,"slot","footer"),m(e,"class","go-back-wrapper svelte-kpro7n")},m(l,s){w(l,e,s),P(n,e,null),o=!0},p(l,s){const r={};s&1024&&(r.$$scope={dirty:s,ctx:l}),n.$set(r)},i(l){o||(g(n.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),o=!1},d(l){l&&v(e),O(n)}}}function qn(t){let e,n,o;return n=new pt({props:{$$slots:{footer:[Ln],body:[Nn],header:[On]},$$scope:{ctx:t}}}),{c(){e=S(),E(n.$$.fragment),document.title="Quartz - Resultado"},m(l,s){w(l,e,s),P(n,l,s),o=!0},p(l,[s]){const r={};s&1024&&(r.$$scope={dirty:s,ctx:l}),n.$set(r)},i(l){o||(g(n.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),o=!1},d(l){l&&v(e),O(n,l)}}}function Tn(t,e,n){let o;Q(t,Ee,i=>n(3,o=i));const l=o?o[0]:void 0,s=l&&l.eligible?l.bonus:"none";return l||(Oe("/venda"),location.reload()),[l,s,()=>{Ee.set([]),Oe("/venda")}]}class Bn extends T{constructor(e){super(),q(this,e,Tn,qn,A,{})}}function In(t){let e,n,o,l,s,r;return e=new he({props:{path:"/",component:Ze}}),o=new he({props:{path:"/venda",component:Ze}}),s=new he({props:{path:"/resultado",component:Bn}}),{c(){E(e.$$.fragment),n=S(),E(o.$$.fragment),l=S(),E(s.$$.fragment)},m(i,u){P(e,i,u),w(i,n,u),P(o,i,u),w(i,l,u),P(s,i,u),r=!0},p:b,i(i){r||(g(e.$$.fragment,i),g(o.$$.fragment,i),g(s.$$.fragment,i),r=!0)},o(i){$(e.$$.fragment,i),$(o.$$.fragment,i),$(s.$$.fragment,i),r=!1},d(i){i&&(v(n),v(l)),O(e,i),O(o,i),O(s,i)}}}function zn(t){let e,n,o;return n=new tn({props:{$$slots:{default:[In]},$$scope:{ctx:t}}}),{c(){e=k("main"),E(n.$$.fragment),m(e,"class","svelte-7p8fg5")},m(l,s){w(l,e,s),P(n,e,null),o=!0},p(l,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:l}),n.$set(r)},i(l){o||(g(n.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),o=!1},d(l){l&&v(e),O(n)}}}class Mn extends T{constructor(e){super(),q(this,e,null,zn,A,{})}}new Mn({target:document.getElementById("app")});
